<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>前端监控</title>
</head>
<body>
  <!-- 测试：timing -->
  <!-- <div id="testFMP" style="width: 500px; height: 500px; background-color: aliceblue;">testFMP</div>
  <script>
    // 测试timing FMP
    setTimeout(() => {
      let h1 = document.createElement('h1')
      h1.innerHTML = '有意义的内容'
      h1.setAttribute('elementtiming', true)
      document.getElementById('testFMP').appendChild(h1)
    }, 2000);
  </script> -->

  <div class="container">
    <!-- 测试：js error示例 -->
    <div class="content">
      <!-- <input 
        type="button" 
        value="点击抛出错误" 
        onclick="errorClick()"
      >
      <input 
        type="button" 
        value="点击抛出Promsie错误" 
        onclick="errorPromiseClick()"
      >

      <script>
        function errorClick(e) {
          window.someVar.error = '1111'
        }

        function errorPromiseClick() {
          new Promise((resolve, reject) => {
            window.someVar.error = '1111'
            // reject({a: 1})
          })
        }
      </script>
      <script src="somejs.js"></script> -->
    </div>

    <!-- 测试：xhr错误示例 -->
    <div id="test" class="content abc ddd">
      <!-- <input 
        type="button" 
        value="ajax成功请求" 
        onclick="sendSuccess()"
      >
      <input 
        type="button" 
        value="ajax失败请求" 
        onclick="sendFail()"
      >
      <script>
        function sendSuccess() {
          const xhr = new XMLHttpRequest()
          xhr.open('GET', '/success', true)
          xhr.responseType = 'json'
          xhr.onload = function() {
            console.log(xhr.response)
          }
          xhr.onerror = function() {
            console.log(err)
          }
          xhr.send()
        }
        function sendFail() {
          const xhr = new XMLHttpRequest()
          xhr.open('POST', '/error', true)
          xhr.responseType = 'json'
          xhr.onload = function() {
            console.log(xhr.response)
          }
          xhr.onerror = function(err) {
            console.log(err)
          }
          xhr.send('name=fwl&age=27')
        }
      </script> -->
    </div>

    <!-- 测试：卡顿 -->
    <!-- <button id="longTaskBtn">执行longTask</button>
    <script>
      let longTaskBtn = document.getElementById('longTaskBtn');
      longTaskBtn.addEventListener('click', longTask);
      function longTask() {
        let start = Date.now();
        console.log('longTask开始 start', start);
        while (Date.now() < (200 + start)) { }
        console.log('longTask结束 end', (Date.now() - start));
      }
    </script> -->
  
    
  
  </div>
  
</body>
</html>